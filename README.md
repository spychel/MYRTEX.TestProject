# MYRTEX.TestProject
Задание
Часть 1.
Разработать сайт с горизонтальным навигационным меню, состоящим из двух вкладок:
“О компании” (стартовая страница)
“Сотрудники”

На первой вкладке использовать произвольную верстку. При переходе на вкладку «сотрудники» должна появляться таблица, состоящая из колонок:
“Отдел”
“Ф.И.О”
“Дата рождения”
“Дата устройства на работу”
“Заработная плата”
“Создание/удаление/редактирование сотрудника”
Все что в таблице должно браться из базы данных MSSQL.
Каждая колонка должна иметь фильтр(для даты это датапикер, для остальных текстовое поле) и сортировку.
В колонке “Создание/удаление/редактирование сотрудника” хедер должен быть пустой, в теле - три кнопки. При нажатии на кнопки “Создать” и “Редактировать” - открывается модальное окно с полями сотрудника, при нажатии на кнопку удалить - показывается модальное окно с подтверждением.

Все действия должны выполняться асинхронно т.е. без перезагрузки страницы.

Часть 2.
Написать и приложить скрипты для: выборки всех сотрудников, сотрудников у кого зп выше 10000, удаления сотрудников старше 70 лет, обновить зп до 15000  тем сотрудникам, у которых она меньше.

Часть 2. Решение.
/*1*/ SELECT * FROM Employees;
/*2*/ SELECT e.Id, e.FirstName, e.SecondName, e.LastName, s.Value  FROM Employees AS e INNER JOIN Salaries AS s ON e.SalaryId = s.Id AND s.Value > 10000;
/*3*/ 
BEGIN Tran
	SELECT SalaryId INTO #Temporary FROM Employees WHERE DATEDIFF(DAY, Birthdate, GETDATE()) >= CAST((70 * 365.25) AS INT);
	Delete FROM Employees WHERE DATEDIFF(DAY, Birthdate, GETDATE()) >= CAST((70 * 365.25) AS INT);
	DELETE Salaries FROM (Select SalaryId FROM #Temporary) AS q WHERE q.SalaryId = Salaries.Id;
	DROP TABLE #Temporary;
COMMIT Tran
/* Не знаю почему, но datediff считает на 1 день меньше, чтобы быть точнее нужно вместо DATEDIFF(DAY, Birthdate, GETDATE()) вставить (DATEDIFF(DAY, Birthdate, GETDATE()) + 1) */
/*4*/ UPDATE Salaries SET Value = 15000 WHERE VALUE < 15000;
